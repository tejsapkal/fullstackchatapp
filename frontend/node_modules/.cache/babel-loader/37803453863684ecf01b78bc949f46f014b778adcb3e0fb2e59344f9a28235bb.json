{"ast":null,"code":"useEffect(() => {\n  const socket = new SockJS(\"http://localhost:8080/ws\");\n  const client = new Client({\n    webSocketFactory: () => socket,\n    reconnectDelay: 5000,\n    debug: str => console.log(str)\n  });\n  client.onConnect = () => {\n    console.log(\"Connected to WebSocket\");\n    setStompClient(client);\n    client.subscribe(\"/topic/messages\", msg => {\n      const receivedMessage = JSON.parse(msg.body);\n      setMessages(prev => [...prev, receivedMessage]);\n    });\n  };\n  client.onDisconnect = () => {\n    console.log(\"Disconnected from WebSocket\");\n  };\n  client.activate();\n  return () => {\n    client.deactivate();\n  };\n}, []); // ✅ Add `[]` to prevent unnecessary re-renders","map":{"version":3,"names":["useEffect","socket","SockJS","client","Client","webSocketFactory","reconnectDelay","debug","str","console","log","onConnect","setStompClient","subscribe","msg","receivedMessage","JSON","parse","body","setMessages","prev","onDisconnect","activate","deactivate"],"sources":["C:/Users/Admin/Desktop/REACT PROJECTS/realtimechatapp/src/components/ChatRoom.js"],"sourcesContent":["useEffect(() => {\r\n    const socket = new SockJS(\"http://localhost:8080/ws\");\r\n    const client = new Client({\r\n        webSocketFactory: () => socket,\r\n        reconnectDelay: 5000,\r\n        debug: (str) => console.log(str),\r\n    });\r\n\r\n    client.onConnect = () => {\r\n        console.log(\"Connected to WebSocket\");\r\n        setStompClient(client);\r\n        client.subscribe(\"/topic/messages\", (msg) => {\r\n            const receivedMessage = JSON.parse(msg.body);\r\n            setMessages((prev) => [...prev, receivedMessage]);\r\n        });\r\n    };\r\n\r\n    client.onDisconnect = () => {\r\n        console.log(\"Disconnected from WebSocket\");\r\n    };\r\n\r\n    client.activate();\r\n\r\n    return () => {\r\n        client.deactivate();\r\n    };\r\n}, []);  // ✅ Add `[]` to prevent unnecessary re-renders\r\n"],"mappings":"AAAAA,SAAS,CAAC,MAAM;EACZ,MAAMC,MAAM,GAAG,IAAIC,MAAM,CAAC,0BAA0B,CAAC;EACrD,MAAMC,MAAM,GAAG,IAAIC,MAAM,CAAC;IACtBC,gBAAgB,EAAEA,CAAA,KAAMJ,MAAM;IAC9BK,cAAc,EAAE,IAAI;IACpBC,KAAK,EAAGC,GAAG,IAAKC,OAAO,CAACC,GAAG,CAACF,GAAG;EACnC,CAAC,CAAC;EAEFL,MAAM,CAACQ,SAAS,GAAG,MAAM;IACrBF,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;IACrCE,cAAc,CAACT,MAAM,CAAC;IACtBA,MAAM,CAACU,SAAS,CAAC,iBAAiB,EAAGC,GAAG,IAAK;MACzC,MAAMC,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACH,GAAG,CAACI,IAAI,CAAC;MAC5CC,WAAW,CAAEC,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEL,eAAe,CAAC,CAAC;IACrD,CAAC,CAAC;EACN,CAAC;EAEDZ,MAAM,CAACkB,YAAY,GAAG,MAAM;IACxBZ,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;EAC9C,CAAC;EAEDP,MAAM,CAACmB,QAAQ,CAAC,CAAC;EAEjB,OAAO,MAAM;IACTnB,MAAM,CAACoB,UAAU,CAAC,CAAC;EACvB,CAAC;AACL,CAAC,EAAE,EAAE,CAAC,CAAC,CAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}